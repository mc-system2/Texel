/* Prompt Studio base (light) */
:root{
  --bg:#f7f9fb; --panel:#fff; --text:#1c2b36;
  --muted:#6c7a86; --line:#e5ecf2; --primary:#0aa0a6;
  --ok:#1f9d55; --warn:#c05621; --info:#2563eb; --danger:#d64545;
}
*{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font:14px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Noto Sans JP, sans-serif}
.app{max-width:1200px;margin:0 auto;padding:8px 10px}
.ps-header{display:flex;align-items:center;gap:16px;padding:10px;background:var(--panel);border:1px solid var(--line);border-radius:10px}
.ps-header .left{min-width:180px}.app-title{font-size:18px;margin:0}
.ps-header .middle{display:flex;align-items:center;gap:8px;flex:1}
.label{color:var(--muted);font-size:12px;margin-left:8px}
.input{padding:8px 10px;border:1px solid var(--line);border-radius:8px;background:#fff;width:100%}
.input.sm{width:110px}.input.wide{min-width:320px}
.btn{background:var(--primary);color:#fff;border:none;border-radius:8px;padding:8px 12px;cursor:pointer}
.btn.secondary{background:#e8f6f7;color:#066b6f}
.btn.tiny{padding:6px 8px;font-size:12px}

.ps-main{display:grid;grid-template-columns:300px 1fr;gap:12px;margin-top:12px}
.panel{background:var(--panel);border:1px solid var(--line);border-radius:10px}

.ps-side{padding:10px}
.tips{color:var(--muted);font-size:12px;margin-bottom:8px}
.side-actions{display:flex;gap:8px;align-items:center}
.filelist{margin-top:8px;display:flex;flex-direction:column;gap:8px;max-height:calc(100vh - 250px);overflow:auto}
.fileitem{display:grid;grid-template-columns:20px 1fr auto;align-items:center;gap:8px;padding:8px;border:1px solid var(--line);border-radius:8px;background:#fff}
.fileitem .drag{cursor:grab;color:var(--muted)}
.fileitem.dragging{opacity:.6}
.fileitem .name{font-weight:600}
.fileitem .name.editing input{width:100%;padding:4px 6px}
.fileitem .meta{display:flex;gap:6px;align-items:center}
.fileitem .meta button{border:none;background:#eef4ff;color:#2643ad;border-radius:6px;padding:4px 6px;cursor:pointer}
.fileitem.locked{background:#fbf9ef;border-style:dashed}
.fileitem.locked .drag, .fileitem.locked .rename, .fileitem.locked .delete{display:none}
.lock{font-size:12px;color:#b58900}

.ps-editor .bar{display:flex;align-items:center;gap:8px;padding:10px;border-bottom:1px solid var(--line)}
.chip{display:inline-block;padding:2px 8px;border-radius:999px;background:#eef2f7;color:#334155}
.chip.ok{background:#e7f7ef;color:#0b6b3a}
.chip.warn{background:#fff2e5;color:#9a3412}
.chip.info{background:#e8f1ff;color:#1d4ed8}
.filename{font-weight:700}

.seg-tabs{display:grid;grid-template-columns:1fr 1fr;border-top:1px solid var(--line);border-bottom:1px solid var(--line)}
.seg-btn{border:none;background:#fafafa;padding:8px;font-weight:700;cursor:pointer}
.seg-btn.active{background:#fff;color:var(--primary)}
.tab-wrap{height:calc(100vh - 260px);overflow:auto}
.tab-panel{display:none;height:100%}
.tab-panel.active{display:block}
#promptEditor{width:100%;height:100%;border:none;outline:none;padding:16px;font-family:ui-monospace,SFMono-Regular,Consolas,monospace;font-size:13px;white-space:pre}

.param-grid{display:grid;grid-template-columns:repeat(2,minmax(260px,1fr));gap:16px;padding:12px}
.slider-group{padding:8px;border:1px dashed var(--line);border-radius:8px}
.slider-label{font-size:12px;color:var(--muted);display:flex;justify-content:space-between}
.slider-value{font-weight:700}

.diff{border-top:1px solid var(--line)}
.diff-head{padding:8px 12px;color:var(--muted);font-size:12px}
.diff-cols{display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:8px}
.diff-cols textarea{height:260px}
