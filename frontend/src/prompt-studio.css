
/* === Prompt Studio Base (clean reset; 2025-11-12) === */
:root{
  --bg:#f7f8fb; --panel:#ffffff; --line:#e6e9ef;
  --text:#223; --muted:#7a8599; --brand:#0aa0a6; --brand-2:#0b6cf2;
}
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; background:var(--bg); color:var(--text);
  font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Noto Sans JP,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
}

/* Header */
.app-header{
  display:flex; gap:12px; align-items:center; padding:10px 16px;
  border-bottom:1px solid var(--line); background:#fff;
}
.app-title{ margin:0; font-size:22px; font-weight:800; }
.app-header .left{ display:flex; align-items:center; gap:10px; }
.app-header .middle{ display:flex; align-items:center; gap:8px; flex:1; }
.app-header .right{ display:flex; align-items:center; gap:8px; }
.input{ border:1px solid var(--line); border-radius:8px; padding:6px 8px; background:#fff; }
.input.sm{ padding:4px 6px; }
.input.wide{ width:320px; }
.btn{ border:1px solid var(--line); background:#fff; border-radius:10px; padding:6px 10px; cursor:pointer; }
.btn.secondary{ background:#f4f7ff; }
.btn.primary{ background:var(--brand-2); color:#fff; border-color:transparent; }
.btn.ghost{ background:transparent; }

.chip{ display:inline-flex; align-items:center; gap:6px; padding:2px 8px; border:1px solid var(--line); border-radius:999px; background:#fff; color:#445; }
.chip.ok{ background:#e9fbf3; border-color:#bfe8d3; color:#1a7f50; }
.chip.info{ background:#eef5ff; border-color:#d6e6ff; color:#2a61c9; }

/* Layout */
.app{ min-height:100%; display:flex; flex-direction:column; }
.app-main{ flex:1; display:flex; gap:12px; padding:12px 16px; }
.panel{
  background:var(--panel); border:1px solid var(--line); border-radius:14px; padding:12px;
  box-shadow: 0 1px 0 rgba(0,0,0,.02);
}

/* Sidebar / Editor columns */
.ps-side.panel{ flex:0 0 300px; min-width:280px; display:flex; flex-direction:column; gap:10px; }
.ps-editor.panel{ flex:1 1 auto; min-width:0; display:flex; flex-direction:column; gap:10px; }

/* Sidebar */
.side-actions{ display:flex; gap:8px; align-items:center; }
.tips{ color:var(--muted); font-size:12px; }

.filelist{ flex:1; overflow:auto; display:flex; flex-direction:column; gap:10px; }

/* Editor Meta */
.bar.meta{ display:flex; flex-wrap:wrap; gap:8px 12px; align-items:center; font-size:12px; color:#456; }
.filename{ font-weight:700; }

/* Tabs */
.seg-tabs{ display:flex; border:1px solid var(--line); border-radius:12px; overflow:hidden; background:#fff; }
.seg-btn{ flex:1; padding:8px 10px; border:0; background:#fff; cursor:pointer; }
.seg-btn.active{ background:#eef5ff; color:#173d8f; }
.tab-wrap{ display:block; }
.tab-panel{ display:none; }
.tab-panel.active{ display:block; }

/* Prompt editor textarea */
#promptEditor{
  width:100%; min-height:280px; resize:vertical; padding:12px;
  border:1px solid var(--line); border-radius:12px; background:#fff; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Noto Sans JP", monospace;
}

/* Bottom toolbar */
.editor-toolbar{
  display:flex; gap:8px; justify-content:flex-end; align-items:center;
  padding:8px 0 0; margin-top:auto; border-top:1px solid var(--line);
}
.editor-toolbar .status{ margin-left:auto; color:#456; font-size:12px; }

/* Small helpers */
.file-caption{ color:#567; }

/* ==== Full-height editor & wide sliders (2025-11-12b) ==== */
.ps-editor.panel{ display:flex; flex-direction:column; gap:10px; }

/* Make the tab area occupy all remaining space */
.tab-wrap{
  display:flex;
  flex-direction:column;
  flex:1 1 auto;
  min-height:0;
}
.tab-panel{
  display:none;
  min-height:0;
}
.tab-panel.active{
  display:flex;
  flex-direction:column;
  flex:1 1 auto;
  min-height:0;
}

/* Prompt tab textarea fills vertical space */
#promptTab{ min-height:0; }
#promptEditor{
  flex:1 1 auto;
  min-height:0;
  height:auto;            /* let flex control height */
  resize:vertical;
}

/* Params tab: sliders span full width */
#paramsTab .param-list{ display:flex; flex-direction:column; gap:14px; }
#paramsTab input[type="range"]{ width:100%; }
#paramsTab .slider-label{ display:flex; align-items:center; gap:8px; }
#paramsTab .slider-value{ margin-left:auto; font-variant-numeric:tabular-nums; color:#566; }

/* Bottom toolbar stays at the bottom */
.editor-toolbar{ margin-top:8px; }
