:root{
  --bg:#0f1115; --panel:#141821; --panel2:#161b26; --text:#e8ecf1; --muted:#9aa6b2;
  --primary:#6aa1ff; --ok:#67d38c; --warn:#ffcc66; --danger:#ff6a6a; --chip:#1e2431;
  --border:#212839;
}
*{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font:14px/1.6 system-ui, -apple-system, Segoe UI, Noto Sans JP, sans-serif}
h1{font-size:16px;margin:0 12px 0 0}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace}
.wide{width:420px}
.bar{position:sticky;top:0;z-index:10;background:rgba(20,24,33,.9);backdrop-filter:saturate(140%) blur(6px);border-bottom:1px solid var(--border)}
.bar .row{display:flex;gap:10px;align-items:center;padding:10px 12px}
label{display:flex;gap:6px;align-items:center;background:var(--panel2);padding:6px 8px;border-radius:10px;border:1px solid var(--border)}
input,select,textarea{background:#0d1117;color:var(--text);border:1px solid var(--border);border-radius:8px;padding:6px 8px;outline:none}
input:focus,select:focus,textarea:focus{border-color:#39507a}
.btn{background:var(--chip);border:1px solid var(--border);color:var(--text);padding:8px 12px;border-radius:10px;cursor:pointer}
.btn:hover{filter:brightness(1.1)}
.btn-primary{background:var(--primary);color:#081020;border-color:transparent}
.btn-secondary{background:#23304a}
.spacer{flex:1}

.grid{display:grid;grid-template-columns:320px 1fr;gap:14px;padding:14px}
.panel{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:10px}
.left .panel-head{display:flex;gap:8px}
.file-list{display:flex;flex-direction:column;gap:8px;margin-top:10px}
.fileitem{display:flex;align-items:center;gap:10px;border:1px solid var(--border);background:var(--panel2);border-radius:12px;padding:8px 10px;cursor:pointer}
.fileitem.active{outline:2px solid var(--primary)}
.fileitem .drag{opacity:.45;cursor:grab}
.fileitem .name{flex:1}
.fileitem .meta{display:flex;align-items:center;gap:8px}
.fileitem .chip{background:var(--chip);padding:3px 8px;border-radius:999px;color:var(--muted)}
.fileitem .lock{opacity:.7}
.fileitem .dup,.fileitem .del,.fileitem .rename{margin-left:6px}

.muted{color:var(--muted)}
.hint{margin:8px 12px;display:none}
.status-row{display:flex;gap:8px;margin-bottom:8px}
.badge{background:var(--chip);padding:6px 10px;border-radius:999px;border:1px solid var(--border)}
.editor-head{display:grid;grid-template-columns:1fr 360px;gap:8px;margin:6px 0 4px 0;color:var(--muted)}
.split{display:grid;grid-template-columns:1fr 360px;gap:8px;min-height:60vh}
textarea#promptEditor{width:100%;height:100%;resize:vertical;border-radius:12px}
.param-area{border:1px dashed var(--border);border-radius:12px;padding:8px;background:var(--panel2)}
