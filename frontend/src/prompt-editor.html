<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Texel プロンプト編集</title>
  <link rel="stylesheet" href="./prompt-editor.css" />
</head>
<body>
  <div class="app">
    <header class="app-header">
      <h1>Texel プロンプト編集画面 <span class="label" id="label"></span></h1>
      <div class="meta"><span>読み込み対象:</span> <code id="filename">—</code></div>
      <div class="apipath">HTTP <b>/LoadPromptText</b> / <b>/SavePromptText</b></div>
    </header>

    <main class="panel">
      <!-- タブ -->
      <div class="tab-header">
        <button class="tab-button active" id="tabPromptBtn">プロンプト</button>
        <button class="tab-button" id="tabParamsBtn">パラメータ</button>
      </div>

      <!-- プロンプト編集タブ -->
      <section class="tab-panel active" id="promptTab">
        <textarea id="promptEditor" placeholder="ここにプロンプト（またはJSONカタログ）が読み込まれます..."></textarea>
      </section>

      <!-- パラメータ編集タブ（6×1固定） -->
      <section class="tab-panel" id="paramsTab">
        <div class="param-list">
          <div class="slider-group">
            <div class="slider-label">入力補完トークンの最大数（100～32768）
              <span class="slider-value" id="val_max_tokens">800</span></div>
            <input type="range" id="param_max_tokens" min="100" max="32768" step="1" value="800" />
          </div>

          <div class="slider-group">
            <div class="slider-label">温度 [temperature]（0.00～1.00）
              <span class="slider-value" id="val_temperature">1.00</span></div>
            <input type="range" id="param_temperature" min="0" max="1" step="0.01" value="1.00" />
          </div>

          <div class="slider-group">
            <div class="slider-label">Top P（0.01～1.00）
              <span class="slider-value" id="val_top_p">1.00</span></div>
            <input type="range" id="param_top_p" min="0.01" max="1" step="0.01" value="1.00" />
          </div>

          <div class="slider-group">
            <div class="slider-label">頻度ペナルティ [frequency_penalty]（-2.00～2.00）
              <span class="slider-value" id="val_frequency_penalty">0.00</span></div>
            <input type="range" id="param_frequency_penalty" min="-2" max="2" step="0.01" value="0.00" />
          </div>

          <div class="slider-group">
            <div class="slider-label">プレゼンスペナルティ [presence_penalty]（-2.00～2.00）
              <span class="slider-value" id="val_presence_penalty">0.00</span></div>
            <input type="range" id="param_presence_penalty" min="-2" max="2" step="0.01" value="0.00" />
          </div>

          <div class="slider-group">
            <div class="slider-label">応答数 n（1～4）
              <span class="slider-value" id="val_n">1</span></div>
            <input type="range" id="param_n" min="1" max="4" step="1" value="1" />
          </div>
        </div>
      </section>

      <div class="toolbar">
        <button id="loadButton" class="btn ghost">Load</button>
        <button id="saveButton" class="btn">Save</button>
        <span id="statusMessage" class="status"></span>
      </div>
    </main>
  </div>

  <script src="./prompt-editor.js"></script>
</body>
</html>
