<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Prompt Studio (Fixed)</title>
  <link rel="stylesheet" href="./prompt-studio.css"/>
</head>
<body>
  <header class="ps-header">
    <div class="ps-brand">Prompt Studio</div>
    <div class="ps-env">
      <label>FUNCTION_BASE:
        <input id="env-function-base" type="text" placeholder="https://<your-func-app>.azurewebsites.net/api"/>
      </label>
      <label>Client Path:
        <input id="env-client-path" type="text" placeholder="client/A001/" />
      </label>
      <button id="env-apply" class="ps-btn">適用</button>
    </div>
  </header>

  <main class="ps-main">
    <aside class="ps-left">
      <div class="ps-left-header">
        <div class="ps-left-title">プロンプト一覧</div>
        <div class="ps-left-actions">
          <button id="btn-add" class="ps-btn">＋ 追加</button>
          <button id="btn-repair" class="ps-btn ps-btn-ghost" title="既存JSONの形を一括修復">一括修復</button>
        </div>
      </div>
      <div id="prompt-list" class="ps-list"></div>
    </aside>

    <section class="ps-right">
      <div class="ps-right-bar">
        <div id="active-file" class="ps-active-file">（未選択）</div>
        <div class="ps-right-actions">
          <button id="btn-rename" class="ps-btn ps-btn-ghost" disabled>名称変更</button>
          <button id="btn-delete" class="ps-btn ps-btn-danger" disabled>削除</button>
          <button id="btn-save" class="ps-btn" disabled>保存</button>
        </div>
      </div>

      <div class="ps-editor-wrap">
        <div class="ps-editor-hint">
          右側は JSON エディタです。<br/>
          保存時には自動的に <code>{ "prompt": {}, "params": {} }</code> 形式に正規化されます。
        </div>
        <textarea id="json-editor" class="ps-editor" spellcheck="false" placeholder='例: {"prompt":{},"params":{}}'></textarea>
      </div>
      <div id="status" class="ps-status"></div>
    </section>
  </main>

  <script src="./prompt-studio.js"></script>
</body>
</html>
